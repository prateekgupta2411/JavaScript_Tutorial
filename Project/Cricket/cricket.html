<!DOCTYPE html>
<html lang="en">

<head>
  <title>Cricket Game</title>
</head>

<body>
  <h1>Bat Ball Stump Game</h1>
  <button id="batButton">Bat</button>
  <button id="ballButton">Ball</button>
  <button id="stumpButton">Stump</button>
  <button id="resetButton">Reset</button>
  <div id="score">
    <h2>Score:</h2>
    <p>Wins: <span id="winCount">0</span></p>
    <p>Losses: <span id="lostCount">0</span></p>
    <p>Ties: <span id="tieCount">0</span></p>
  </div>

  <script>
    let scoreStr = localStorage.getItem('score');
    let score = scoreStr ? JSON.parse(scoreStr) : {
      win: 0,
      lost: 0,
      tie: 0,
    };

    function updateScore(result) {
      if (result === 'User Won') {
        score.win++;
        document.getElementById('winCount').textContent = score.win;
      } else if (result === 'Computer has Won') {
        score.lost++;
        document.getElementById('lostCount').textContent = score.lost;
      } else {
        score.tie++;
        document.getElementById('tieCount').textContent = score.tie;
      }
      // Store the updated score in localStorage
      localStorage.setItem('score', JSON.stringify(score));
    }

    function handleButtonClick(userChoice) {
      let randomValue = Math.random() * 3;
      let computerChoice;
      if (randomValue >= 0 && randomValue < 1) {
        computerChoice = 'Bat';
      } else if (randomValue >= 1 && randomValue < 2) {
        computerChoice = 'Ball';
      } else {
        computerChoice = 'Stump';
      }

      let resultMsg;
      if (computerChoice === userChoice) {
        resultMsg = `It's a Tie`;
      } else if ((computerChoice === 'Bat' && userChoice === 'Ball') ||
        (computerChoice === 'Ball' && userChoice === 'Stump') ||
        (computerChoice === 'Stump' && userChoice === 'Bat')) {
        resultMsg = 'User Won';
      } else {
        resultMsg = 'Computer has Won';
      }

      updateScore(resultMsg);

      alert(`You have chosen ${userChoice}. Computer chosen is ${computerChoice} and ${resultMsg}`);
    }

    document.getElementById('batButton').onclick = function () {
      handleButtonClick('Bat');
    };

    document.getElementById('ballButton').onclick = function () {
      handleButtonClick('Ball');
    };

    document.getElementById('stumpButton').onclick = function () {
      handleButtonClick('Stump');
    };
    document.getElementById('resetButton').onclick = function () {
      localStorage.clear();
      location.reload();
    };
  </script>
</body>

</html>